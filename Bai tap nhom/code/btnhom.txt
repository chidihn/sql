CREATE DATABASE QLCV
USE QLCV;
-- Bảng nhân viên
CREATE TABLE NHANVIEN (
	MANV CHAR(4) PRIMARY KEY,
	MACQ CHAR(4) FOREIGN KEY REFERENCES COQUAN,
	HOTEN VARCHAR(30),
	NGAYSINH DATETIME,
	CHUCVU VARCHAR(30)
)
-- Bảng cơ quan
CREATE TABLE COQUAN (
	MACQ CHAR(4) PRIMARY KEY,
	TENCQ VARCHAR(30),
	DIACHICQ VARCHAR(50)
)
-- Bảng công văn
CREATE TABLE CONGVAN (
	MACV CHAR(4) PRIMARY KEY,
	MACQ CHAR(4) FOREIGN KEY REFERENCES COQUAN,
	MANV CHAR(4) FOREIGN KEY REFERENCES NHANVIEN,
	LOAICV VARCHAR(10),
	NGAYKY DATETIME,
	NOINHAN VARCHAR (40),
)
-- Bảng	công văn đến
CREATE TABLE CVDEN (
	MACVDEN CHAR(4)PRIMARY KEY,
	MACV CHAR(4) FOREIGN KEY REFERENCES CONGVAN,
	MACQ CHAR(4) FOREIGN KEY REFERENCES COQUAN, -- MA CO QUAN NHAN
	MANV CHAR(4) FOREIGN KEY REFERENCES NHANVIEN, -- MA NGUOI NHAN
	NGAYNHAN CHAR (4)
)
-- Bảng công văn đi
CREATE TABLE CVDI (
	MACVDI CHAR(4) PRIMARY KEY,
	MACV CHAR(4) FOREIGN KEY REFERENCES CONGVAN,
	MACQ CHAR(4) FOREIGN KEY REFERENCES COQUAN, -- MA CO QUAN NHAN
	NGAYGUI CHAR (4)
)
-- Bảng xử lý công văn
CREATE TABLE XLCV (
	MACVDEN CHAR(4) FOREIGN KEY REFERENCES CVDEN,
	MACV CHAR(4) FOREIGN KEY REFERENCES CONGVAN,
	TINHTRANG CHAR (30)
	PRIMARY KEY (MACVDEN, MACV)
)
